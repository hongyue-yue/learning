<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>list</title>
        <script src="vendor/jquery-1.10.0.js"></script>
        <script src="vendor/JsRender.min.js"></script>
        <!--<script src="vendor/jquery.tmpl.min.js">-->
    </head>
    <body>
        <table border="1" cellpadding="5" cellspacing="5" >
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody id="list">

            </tbody>
        </table>

        <input type="button" value="上一页" id="pres" style="display:none">
        <input type="button" value="下一页" id="next">

        <!--<script id="myTmpl" type="text/x-jsrender">
        {{for Data}}
        <tr>
        <td>{{:Id}}</td>
        <td>{{:Name}}</td>
        <td>{{:Email}}</td>
        </tr>
        {{/for}}
        </script>-->
        <script id="myTmpl" type="text/x-jsrender">
        <tr>
        <td>{{:Id}}</td>
        <td>{{:Name}}</td>
        <td>{{:Email}}</td>
        </tr>
        </script>
        <script id="myList" type="text/x-jsrender">
            {{for Data tmpl="#myTmpl"/}}
        </script>
        <script type="text/javascript">
            $(function(){
                 //var markup="<tr><td>${Id}</td><td>${Name}</td><td>${Email}</td></tr>";
                 var tmpl=$.templates("#myList");
                 $.ajax({
                     url:"http://192.168.10.243:8090/v1/user?limit=2",
                     //url :"http://192.168.10.243:8090/v1/user?limit=20"
                     type:"GET",
                     dataType:"json",
                     success:function(res){
                       var html=tmpl.render(res);
                       $("#list").html(html);
                      //var con=res.Data;
                      //$.template("conTemplates",markup )
                      //$.tmpl("conTemplates",con).appendTo("#list");
                     }
                 });
                $("#next").click(function(){
                    var number=$("#list tr:last td:first").html();
                    $("#pres").css("display","inline");
                    $.ajax({
                        url:"http://192.168.10.243:8090/v1/user?limit=2&last="+number,
                        type:"GET",
                        dataType:"json",
                        success:function(res){
                            var html=tmpl.render(res);
                            $("#list").html(html);
                            var num=$("#list tr:last td:first").html();
                            if(num>=7){
                                $("#next").css("display","none");
                            }
                        }
                    });
                });
                $("#pres").click(function(){
                    var number=$("#list tr:first td:first").html()-3;
                    $("#next").css("display","inline");
                    $.ajax({
                        url:"http://192.168.10.243:8090/v1/user?limit=2&last="+number,
                        type:"GET",
                        dataType:"json",
                        success:function(res){
                            var html=tmpl.render(res);
                            $("#list").html(html);
                            var num=$("#list tr:first td:first").html();
                            if(num<=1){
                                $("#pres").css("display","none");
                            }
                        }
                    });
                });

            });
        </script>
    </body>
</html>
